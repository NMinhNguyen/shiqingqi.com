<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../iron-icons/av-icons.html">
<link rel="import" href="../iron-icon/av-icon.html">
<link rel="import" href="font-awesome.html">

<dom-module id="experience-info">
    <template>
        <style>
        .wrapper {
            @apply --layout-horizontal;
        }

        .left {
            width: 8rem;
            text-align: right;
            padding: 1rem 1rem 1rem 0;
            border-right: 1px solid var(--primary-text-color);
        }

        .right {
            @apply --layout-flex;
            padding: 1rem 0 1rem 1rem;
            position: relative;
        }

        .right h3 {
            margin-top: 0;
        }

        .location {
            font-weight: 300;
        }

        .repo {
            position: absolute;
            top: 0;
            right: 0;
            color: var(--accent-color);
            text-decoration: none;
            --paper-icon-button-ink-color: var(--accent-color);
        }

        .repo iron-icon {
            margin-right: 0.5rem;
        }

        .right p {
            font-weight: 300;
            font-size: 0.9rem;
        }

        @media (max-width: 638px) {
            .left {
                width: 4rem;
            }
        }

        @media (max-width: 570px) {
            .repo {
                position: relative;
            }
        }

        @media (max-width: 456px) {
            .location {
                display: block;
            }
        }
        </style>
        <div class="wrapper">
            <div class="left">
                {{date}}
            </div>
            <div class="right">
                <i class="fa fa-github" aria-hidden="true"></i>
                <h3>{{experience}}, <span class="location">{{location}}</span> </h3>

                <template is="dom-if" if="{{repo}}">
                    <a class="repo" href="{{repo}}" target="_blank"><paper-button raised><iron-icon icon="font-awesome:github"></iron-icon> Repo</paper-button></a>
                </template>
                <template is="dom-if" if="{{video}}">
                    <a class="repo" href="{{video}}" target="_blank"><paper-button raised><iron-icon icon="av:play-arrow"></iron-icon> Video</paper-button></a>
                </template>

                <p>{{description}}</p>
            </div>
        </div>
    </template>
    <script>
    class ExperienceInfo extends Polymer.Element {
        static get is() {
            return 'experience-info';
        }

        static get properties() {
            return {
                date: String,
                experience: String,
                location: String,
                description: String,
                repo: {
                    type: String,
                    value: ''
                },
                video: {
                    type: String,
                    value: ''
                }
            };
        }

        ready() {
            super.ready();
        }
    };

    customElements.define('experience-info', ExperienceInfo);
    </script>
</dom-module>

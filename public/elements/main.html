<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../iron-pages/iron-pages.html">
<link rel="import" href="../iron-media-query/iron-media-query.html">
<link rel="import" href="../app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../app-layout/app-layout.html">
<link rel="import" href="../paper-tabs/paper-tabs.html">
<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../paper-listbox/paper-listbox.html">
<link rel="import" href="about.html">

<dom-module id="main-app">
    <template>
        <style>
            :host {
                width: 100%;
                height: 100%;

                --primary-color: var(--main-app-primary-color, var(--paper-blue-500));
                --secondary-color: var(--main-app-secondary-color, var(--paper-blue-700));
                --text-primary-color: var(--main-app-text-primary-color, #fff);
                --text-secondary-color: var(--main-app-text-secondary-color, #fff);
                --accent-color: var(--main-app-accent-color, , var(--paper-yellow-a100));

            }

            app-header-layout {
                height: 100%;
            }

            #about, #projects, #skills {
                height: 100%;
                max-width: 1024px;
                margin: 0 auto 0 auto;
            }

            app-drawer {
                --app-drawer-width: 15rem;
            }

            app-drawer h1 {
                font-size: 1.5rem;
                line-height: 3rem;
                margin: 0.25rem 0 0.25rem 1rem;
            }

            app-drawer paper-item {
                --paper-item-focused: {
                    background: var(--accent-color);
                    font-weight: bold;
                };
            }

            app-header {
                background-color: var(--primary-color);
            }

            app-header app-toolbar {
                background-color: inherit;
                color: var(--text-primary-color);
                border-bottom: 1px solid var(--secondary-color);
            }

            app-header paper-icon-button {
                width: 2.5rem;
                height: 2.5rem;
                margin-top: 0.25rem;
                margin-bottom: 0.25rem;
                --paper-icon-button-ink-color: var(--text-primary-color);
            }

            app-header paper-tabs {
                height: 100%;
                --paper-tabs-selection-bar-color: var(--accent-color);
            }

            app-header paper-tab {
                --paper-tab-ink: var(--accent-color);
            }

            app-header h1 {
                font-weight: 300;
                font-size: 1.5rem;
                line-height: 3rem;
                margin: 0.25rem 0 0.25rem 1rem;
            }

            @media (max-width: 410px) {
                paper-tabs {
                    display: none;
                }
            }
            @media (min-width: 410px) {
                app-toolbar paper-icon-button {
                    display: none;
                }

                #drawer {
                    display: none;
                }
            }


        </style>


        <app-header-layout>
            <app-header slot="header" fixed effects="waterfall">
                <app-toolbar>
                    <paper-icon-button icon="menu" on-click="handleMenuClick"></paper-icon-button>
                    <h1 main-title>Qingqi Shi</h1>
                    <paper-tabs selected="{{selected_page}}">
                        <paper-tab>About Me</paper-tab>
                        <paper-tab>Projects</paper-tab>
                        <paper-tab>Skills</paper-tab>
                    </paper-tabs>
                </app-toolbar>
            </app-header>

            <iron-pages selected="{{selected_page}}">
                <section id="about">
                    <about-page></about-page>
                </section>
                <section id="projects">
                    <p>Projects page</p>
                </section>
                <section id="skills">
                    <p>Skills page</p>
                </section>
            </iron-pages>
        </app-header-layout>

        <app-drawer id="drawer" swipe-open>
            <app-header fixed>
                <app-toolbar>
                    <paper-icon-button icon="menu" on-click="handleMenuClick"></paper-icon-button>
                </app-toolbar>
            </app-header>
            <paper-listbox selected="{{selected_page}}">
                <paper-item on-click="handleMenuClick">About Me</paper-item>
                <paper-item on-click="handleMenuClick">Projects</paper-item>
                <paper-item on-click="handleMenuClick">Skills</paper-item>
            </paper-listbox>
        </app-drawer>
    </template>
    <script>
        class MainApp extends Polymer.Element {

            static get is() {
                return 'main-app';
            }

            ready() {
                super.ready();
                this.selected_page = 0;
            }

            handleMenuClick() {
                this.$.drawer.toggle();
            }
        };

        customElements.define('main-app', MainApp);
    </script>
</dom-module>
